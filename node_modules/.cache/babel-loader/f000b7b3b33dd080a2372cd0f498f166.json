{"ast":null,"code":"var _jsxFileName = \"D:\\\\IDEA\\\\BlockChain\\\\myapp\\\\src\\\\components\\\\apply\\\\apply\\\\ApplyForm.js\";\nimport React, { Component } from 'react';\nimport { Form, Input, Button, Radio, Icon } from 'antd';\nimport { Row, Col } from 'antd';\nimport { Select } from 'antd';\nimport { Upload, message, Modal } from 'antd';\nimport axios from \"axios\";\nimport { Redirect } from \"react-router\";\nconst Option = Select.Option;\n\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = () => resolve(reader.result);\n\n    reader.onerror = error => reject(error);\n  });\n}\n\nclass ApplyForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      previewVisible: false,\n      previewImage: '',\n      fileList: [],\n      applyFlag: false\n    };\n\n    this.handleSubmit = e => {\n      // e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          //如果没有错误，则发送用户信息给后端\n          console.log('Received values of form: ', values);\n          axios.post('http://localhost:2560/apply', {\n            values\n          }).then(res => {\n            console.log(res);\n\n            if (res.data.state === \"success\") {\n              this.setState({\n                applyFlag: true\n              });\n            } else {\n              this.setState({\n                applyFlag: false\n              });\n              message.error(res.data.msg);\n            }\n          }).catch(err => {\n            console.log(err);\n            this.setState({\n              applyFlag: false\n            });\n          });\n        } else {\n          message.error('申请信息有误！');\n        }\n      });\n    };\n\n    this.handleCancel = () => this.setState({\n      previewVisible: false\n    });\n\n    this.handlePreview = async file => {\n      if (!file.url && !file.preview) {\n        file.preview = await getBase64(file.originFileObj);\n      }\n\n      this.setState({\n        previewImage: file.url || file.preview,\n        previewVisible: true\n      });\n    };\n\n    this.handleChange = ({\n      fileList\n    }) => this.setState({\n      fileList\n    });\n  }\n\n  render() {\n    if (this.state.applyFlag) {\n      return React.createElement(Redirect, {\n        to: \"/Progress\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      });\n    }\n\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    const _this$state = this.state,\n          previewVisible = _this$state.previewVisible,\n          previewImage = _this$state.previewImage,\n          fileList = _this$state.fileList; //图片上传按钮\n\n    const uploadButton = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"ant-upload-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Upload\")); //保险单上传\n\n    const invoiceProps = {\n      name: 'file',\n      action: '',\n      //保险单上传接口\n      headers: {\n        authorization: 'authorization-text'\n      },\n\n      onChange(info) {\n        if (info.file.status !== 'uploading') {\n          console.log(info.file, info.fileList);\n        }\n\n        if (info.file.status === 'done') {\n          message.success(\"\".concat(info.file.name, \" \\u4E0A\\u4F20\\u6210\\u529F\"));\n        } else if (info.file.status === 'error') {\n          message.error(\"\".concat(info.file.name, \"\\u4E0A\\u4F20\\u5931\\u8D25\"));\n        }\n      }\n\n    };\n    return React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      className: 'applyForm',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        color: '#e6f7ff'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"\\u7533\\u8BF7\\u7406\\u8D54\"))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u59D3\\u540D\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, getFieldDecorator('name', {\n      rules: [{\n        required: true,\n        message: '请输入您的姓名'\n      }, {\n        pattern: new RegExp('^[\\u4e00-\\u9fa5]+$', 'g'),\n        message: '真实姓名有误'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"user\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }),\n      style: {\n        width: 260\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u59D3\\u540D\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u7535\\u8BDD\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, getFieldDecorator('phone', {\n      rules: [{\n        required: true,\n        message: '请输入您的手机号'\n      }, {\n        pattern: new RegExp('^1[3456789]\\\\d{9}$', 'g'),\n        message: '请输入正确的手机号'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"phone\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }),\n      type: \"text\",\n      style: {\n        width: 260\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u624B\\u673A\\u53F7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }))))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u6027\\u522B\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, getFieldDecorator('gender', {\n      initialValue: 1,\n      rules: [{\n        required: true,\n        message: '请选择您的性别'\n      }]\n    })(React.createElement(Radio.Group, {\n      className: \"gender\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(Radio, {\n      value: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"\\u7537\"), React.createElement(Radio, {\n      value: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"\\u5973\"))))), React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u4FDD\\u9669\\u5355\\u53F7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, getFieldDecorator('insureNum', {\n      rules: [{\n        required: true,\n        message: '请输入您的保险单号'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"key\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }),\n      style: {\n        width: 260\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u4FDD\\u9669\\u5355\\u53F7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }))))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u8EAB\\u4EFD\\u8BC1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, getFieldDecorator('idNum', {\n      rules: [{\n        required: true,\n        message: '请输入您的身份证'\n      }, {\n        pattern: new RegExp('^[1-9]\\\\d{5}(18|19|20)\\\\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\\\d{3}[0-9Xx]$', 'g'),\n        message: '身份证号有误'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"idcard\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }),\n      style: {\n        width: 260\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u8EAB\\u4EFD\\u8BC1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u8F66\\u9669\\u7C7B\\u578B\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, getFieldDecorator('carInsure', {\n      rules: [{\n        required: true,\n        message: '请选择您购买的车险类型'\n      }]\n    })(React.createElement(Select, {\n      placeholder: \"\\u8BF7\\u9009\\u62E9\\u60A8\\u8D2D\\u4E70\\u7684\\u8F66\\u9669\\u7C7B\\u578B\",\n      style: {\n        width: 260\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(Option, {\n      value: \"trafficInsure\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"\\u4EA4\\u5F3A\\u9669\"), React.createElement(Option, {\n      value: \"damageInsure\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"\\u8F66\\u8F86\\u635F\\u5931\\u9669\"), React.createElement(Option, {\n      value: \"thirdInsure\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"\\u7B2C\\u4E09\\u8005\\u8D23\\u4EFB\\u9669\"), React.createElement(Option, {\n      value: \"thirdInsure\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"\\u7B2C\\u4E09\\u8005\\u8D23\\u4EFB\\u9669\"), React.createElement(Option, {\n      value: \"stoleInsure\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"\\u5168\\u8F66\\u76D7\\u62A2\\u9669\"), React.createElement(Option, {\n      value: \"deviceInsure\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"\\u8BBE\\u5907\\u635F\\u5931\\u9669\")))))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u7406\\u8D54\\u91D1\\u989D\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, getFieldDecorator('count', {\n      rules: [{\n        required: true,\n        message: '请输入您的理赔金额（元）'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"pay-circle\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }),\n      style: {\n        width: 260\n      },\n      placeholder: \"\\u8BF7\\u586B\\u5199\\u60A8\\u7684\\u7533\\u8BF7\\u7406\\u8D54\\u91D1\\u989D\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u4F4F\\u5740\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, getFieldDecorator('location', {\n      rules: [{\n        required: true,\n        message: '请输入您的住址'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"bank\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }),\n      type: \"text\",\n      style: {\n        width: 260\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u4F4F\\u5740\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }))))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u53D1\\u7968\\u4E0A\\u4F20\",\n      extra: \"\\u8BF7\\u4E0A\\u4F20\\u4E8B\\u6545\\u53D1\\u751F\\u540E\\u7684\\u6307\\u5B9A\\u7C7B\\u578B\\u53D1\\u7968\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, getFieldDecorator('invoice', {\n      valuePropName: 'fileList',\n      getValueFromEvent: this.normFile,\n      rules: [{\n        required: true,\n        message: '请上传发票'\n      }]\n    })(React.createElement(Upload, Object.assign({}, invoiceProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }), \" \\u4E0A\\u4F20\\u53D1\\u7968\"))))), React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u4E8B\\u6545\\u73B0\\u573A\\u56FE\\u7247\",\n      extra: \"\\u8BF7\\u4E0A\\u4F20\\u4E8B\\u6545\\u73B0\\u573A\\u56FE\\u7247\\uFF08\\u516D\\u5F20\\u4EE5\\u5185\\uFF09\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, getFieldDecorator('accident', {\n      valuePropName: 'fileList',\n      getValueFromEvent: this.normFile,\n      rules: [{\n        required: true,\n        message: '请上传图片'\n      }]\n    })(React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, React.createElement(Upload, {\n      action: \"\" //事故现场图片接口\n      ,\n      listType: \"picture-card\",\n      fileList: fileList,\n      onPreview: this.handlePreview,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, fileList.length >= 6 ? null : uploadButton), React.createElement(Modal, {\n      visible: previewVisible,\n      footer: null,\n      onCancel: this.handleCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"example\",\n      style: {\n        width: '100%'\n      },\n      src: previewImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    })), \",\"))))), React.createElement(Form.Item, {\n      style: {\n        width: 100\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: \"login-form-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, \"\\u63D0\\u4EA4\")));\n  }\n\n}\n\nexport default Form.create()(ApplyForm);","map":{"version":3,"sources":["D:/IDEA/BlockChain/myapp/src/components/apply/apply/ApplyForm.js"],"names":["React","Component","Form","Input","Button","Radio","Icon","Row","Col","Select","Upload","message","Modal","axios","Redirect","Option","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","ApplyForm","state","previewVisible","previewImage","fileList","applyFlag","handleSubmit","e","props","form","validateFields","err","values","console","log","post","then","res","data","setState","msg","catch","handleCancel","handlePreview","url","preview","originFileObj","handleChange","render","getFieldDecorator","uploadButton","invoiceProps","name","action","headers","authorization","onChange","info","status","success","color","rules","required","pattern","RegExp","width","initialValue","valuePropName","getValueFromEvent","normFile","length","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Form, Input, Button, Radio, Icon} from 'antd';\r\nimport { Row, Col } from 'antd';\r\nimport { Select } from 'antd';\r\nimport { Upload, message, Modal} from 'antd';\r\nimport axios from \"axios\";\r\nimport {Redirect} from \"react-router\";\r\nconst { Option } = Select;\r\n\r\nfunction getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n}\r\n\r\n\r\nclass ApplyForm extends React.Component {\r\n    state = {\r\n        previewVisible: false,\r\n        previewImage: '',\r\n        fileList: [],\r\n        applyFlag:false\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        // e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                //如果没有错误，则发送用户信息给后端\r\n                console.log('Received values of form: ', values);\r\n                axios.post('http://localhost:2560/apply', {values})\r\n                    .then(res => {\r\n                        console.log(res);\r\n                        if(res.data.state === \"success\"){\r\n                            this.setState({applyFlag:true})\r\n                        }\r\n                        else{\r\n                            this.setState({applyFlag:false});\r\n                            message.error(res.data.msg);\r\n\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err);\r\n                        this.setState({\r\n                            applyFlag:false\r\n                        })\r\n                    });\r\n            }\r\n\r\n            else{\r\n                message.error('申请信息有误！');\r\n            }\r\n\r\n        });\r\n    };\r\n\r\n    handleCancel = () => this.setState({ previewVisible: false });\r\n\r\n    handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n\r\n        this.setState({\r\n            previewImage: file.url || file.preview,\r\n            previewVisible: true,\r\n        });\r\n    };\r\n\r\n    handleChange = ({ fileList }) => this.setState({ fileList });\r\n\r\n    render() {\r\n        if(this.state.applyFlag){\r\n            return <Redirect to=\"/Progress\"/>\r\n        }\r\n        const { getFieldDecorator } = this.props.form;\r\n        const { previewVisible, previewImage, fileList } = this.state;\r\n\r\n        //图片上传按钮\r\n        const uploadButton = (\r\n            <div>\r\n                <Icon type=\"plus\" />\r\n                <div className=\"ant-upload-text\">Upload</div>\r\n            </div>\r\n        );\r\n\r\n        //保险单上传\r\n        const invoiceProps = {\r\n            name: 'file',\r\n            action: '',//保险单上传接口\r\n            headers: {\r\n                authorization: 'authorization-text',\r\n            },\r\n            onChange(info){\r\n                if(info.file.status !== 'uploading'){\r\n                    console.log(info.file, info.fileList);\r\n                }\r\n                if(info.file.status === 'done'){\r\n                    message.success(`${info.file.name} 上传成功`);\r\n                }\r\n                else if(info.file.status === 'error'){\r\n                    message.error(`${info.file.name}上传失败`);\r\n                }\r\n            }\r\n        };\r\n\r\n        return (\r\n\r\n\r\n            <Form onSubmit={this.handleSubmit}\r\n                  className={'applyForm'}\r\n                >\r\n                <Row>\r\n                    <Col span={12}><h2 style={{color:'#e6f7ff'}}>申请理赔</h2></Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col span={12}>\r\n\r\n                    <Form.Item label=\"姓名\">\r\n                        {getFieldDecorator('name', {\r\n                            rules: [\r\n                                { required: true, message: '请输入您的姓名' },\r\n                                {\r\n                                    pattern:new RegExp('^[\\u4e00-\\u9fa5]+$','g'),\r\n                                    message:'真实姓名有误'\r\n                                }\r\n                            ],\r\n                        })(\r\n                            <Input\r\n                                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                style={{width:260}}\r\n                                placeholder=\"请输入您的姓名\"\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={12}>\r\n                    <Form.Item label=\"电话\">\r\n                        {getFieldDecorator('phone', {\r\n                            rules: [\r\n                                { required: true, message: '请输入您的手机号' },\r\n                                {\r\n                                    pattern:new RegExp('^1[3456789]\\\\d{9}$','g'),\r\n                                    message:'请输入正确的手机号'\r\n                                }\r\n                            ],\r\n                        })(\r\n                            <Input\r\n                                prefix={<Icon type=\"phone\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                type=\"text\"\r\n                                style={{width:260}}\r\n                                placeholder=\"请输入您的手机号\"\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"性别\">\r\n                            {getFieldDecorator('gender', {\r\n                                initialValue:1,\r\n                                rules: [{ required: true, message: '请选择您的性别' }],\r\n                            })(<Radio.Group className={\"gender\"}>\r\n                                <Radio value={1}>男</Radio>\r\n                                <Radio value={0}>女</Radio>\r\n                            </Radio.Group>)}\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"保险单号\">\r\n                            {getFieldDecorator('insureNum', {\r\n                                rules: [{ required: true, message: '请输入您的保险单号' }],\r\n                            })(\r\n                                <Input\r\n                                    prefix={<Icon type=\"key\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                    style={{width:260}}\r\n                                    placeholder=\"请输入您的保险单号\"\r\n                                />,\r\n                            )}\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"身份证\">\r\n                            {getFieldDecorator('idNum', {\r\n                                rules: [\r\n                                    { required: true, message: '请输入您的身份证' },\r\n                                    {\r\n                                        pattern:new RegExp('^[1-9]\\\\d{5}(18|19|20)\\\\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\\\d{3}[0-9Xx]$','g'),\r\n                                        message:'身份证号有误'\r\n                                    }\r\n                                ],\r\n\r\n                            })(\r\n                                <Input\r\n                                    prefix={<Icon type=\"idcard\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                    style={{width:260}}\r\n                                    placeholder=\"请输入您的身份证\"\r\n                                />,\r\n                            )}\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"车险类型\">\r\n                            {getFieldDecorator('carInsure', {\r\n                                rules: [{ required: true, message: '请选择您购买的车险类型' }],\r\n                            })(\r\n                                <Select placeholder=\"请选择您购买的车险类型\" style={{width:260}}>\r\n                                    <Option value=\"trafficInsure\">交强险</Option>\r\n                                    <Option value=\"damageInsure\">车辆损失险</Option>\r\n                                    <Option value=\"thirdInsure\">第三者责任险</Option>\r\n                                    <Option value=\"thirdInsure\">第三者责任险</Option>\r\n                                    <Option value=\"stoleInsure\">全车盗抢险</Option>\r\n                                    <Option value=\"deviceInsure\">设备损失险</Option>\r\n                                </Select>,\r\n                            )}\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"理赔金额\">\r\n                            {getFieldDecorator('count', {\r\n                                rules: [{ required: true, message: '请输入您的理赔金额（元）' }],\r\n                            })(\r\n                                <Input\r\n                                    prefix={<Icon type=\"pay-circle\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                    style={{width:260}}\r\n\r\n                                    placeholder=\"请填写您的申请理赔金额\"\r\n                                />,\r\n                            )}\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"住址\">\r\n                            {getFieldDecorator('location', {\r\n                                rules: [\r\n                                    { required: true, message: '请输入您的住址' }\r\n                                    ],\r\n                            })(\r\n                                <Input\r\n                                    prefix={<Icon type=\"bank\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                    type=\"text\"\r\n                                    style={{width:260}}\r\n                                    placeholder=\"请输入您的住址\"\r\n                                />,\r\n                            )}\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"发票上传\" extra=\"请上传事故发生后的指定类型发票\">\r\n                            {getFieldDecorator('invoice', {\r\n                                valuePropName: 'fileList',\r\n                                getValueFromEvent: this.normFile,\r\n                                rules: [{ required: true, message: '请上传发票' }],\r\n                            })(\r\n                                <Upload {...invoiceProps}>\r\n                                    <Button>\r\n                                        <Icon type=\"upload\" /> 上传发票\r\n                                    </Button>\r\n                                </Upload>,\r\n                            )}\r\n                        </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col span={12}>\r\n                        <Form.Item label=\"事故现场图片\" extra=\"请上传事故现场图片（六张以内）\">\r\n                            {getFieldDecorator('accident', {\r\n                                valuePropName: 'fileList',\r\n                                getValueFromEvent: this.normFile,\r\n                                rules: [{ required: true, message: '请上传图片' }],\r\n                            })(\r\n                                <div>\r\n                                    <Upload\r\n                                        action=\"\" //事故现场图片接口\r\n                                        listType=\"picture-card\"\r\n                                        fileList={fileList}\r\n                                        onPreview={this.handlePreview}\r\n                                        onChange={this.handleChange}\r\n                                    >\r\n                                        {fileList.length >= 6 ? null : uploadButton}\r\n                                    </Upload>\r\n                                    <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\r\n                                        <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n                                    </Modal>,\r\n                                </div>\r\n                            )}\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n\r\n\r\n\r\n\r\n                <Form.Item style={{width:100}}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                        提交\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(ApplyForm);"]},"metadata":{},"sourceType":"module"}